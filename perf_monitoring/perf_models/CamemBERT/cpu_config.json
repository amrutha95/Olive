{
"input_model":{
    "type": "PyTorchModel",
    "config": {
        "hf_config": {
            "model_name": "Jean-Baptiste/camembert-ner",
            "task": "ner",
            "dataset": {
                "data_name":"Jean-Baptiste/wikiner_fr",
                "split": "test",
                "input_cols": ["tokens"],
                "label_cols": ["ner_tags"],
                "batch_size": 1,
                "max_samples": 10
            }
        }
    }
},
"evaluators": {
    "common_evaluator": {
        "metrics":[
            {
                "name": "accuracy",
                "type": "accuracy",
                "sub_types": [
                    {
                        "name": "accuracy_score",
                        "priority": 1,
                        "metric_config": {
                            "task": "multiclass",
                            "num_classes": "5",
                            "top_k": 1
                        }
                    }
                ]
            },
            {
                "name": "latency",
                "type": "latency",
                "sub_types": [
                    {"name": "avg", "priority": 2}
                ]
            }
        ]
    }
},
"passes": {
    "conversion": {
        "type": "OnnxConversion",
        "config": {
            "target_opset": 13
        }
    }
},
"engine": {
    "search_strategy": {
        "execution_order": "joint",
        "search_algorithm": "tpe",
        "search_algorithm_config": {
            "num_samples": 3,
            "seed": 0
        }
    },
    "log_severity_level": 0,
    "evaluator": "common_evaluator",
    "execution_providers": ["CPUExecutionProvider"],
    "cache_dir": "cache",
    "output_dir" : "models/camembert_workflow_cpu"
}
}
